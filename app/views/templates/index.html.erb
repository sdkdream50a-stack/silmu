<%# 문서 양식 목록 페이지 - Stitch 디자인 기반 %>

<!-- 페이지 헤더 -->
<section class="bg-gradient-to-r from-navy-600 to-navy-700 text-white py-12">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <h1 class="text-3xl md:text-4xl font-bold mb-4">문서 양식 보관함</h1>
    <p class="text-navy-100 text-lg">공무원 업무에 필요한 모든 양식을 한 곳에서</p>
  </div>
</section>

<!-- 검색 및 필터 -->
<section class="bg-white border-b sticky top-16 z-40">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4">
    <!-- 검색바 -->
    <div class="flex items-center bg-gray-100 rounded-xl overflow-hidden mb-4">
      <div class="flex items-center justify-center pl-4 text-gray-400">
        <span class="material-symbols-outlined">search</span>
      </div>
      <input type="text" placeholder="양식명 또는 키워드 검색" class="w-full border-none focus:ring-0 bg-transparent py-3 px-3 text-gray-800 placeholder:text-gray-400">
    </div>

    <!-- 카테고리 필터 -->
    <div class="flex flex-wrap gap-2">
      <button class="px-4 py-2 bg-navy-600 text-white rounded-full text-sm font-medium">전체</button>
      <button class="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-full text-sm font-medium transition-colors">계약서</button>
      <button class="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-full text-sm font-medium transition-colors">기안문</button>
      <button class="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-full text-sm font-medium transition-colors">품의서</button>
      <button class="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-full text-sm font-medium transition-colors">검수조서</button>
      <button class="px-4 py-2 bg-gray-100 text-gray-700 hover:bg-gray-200 rounded-full text-sm font-medium transition-colors">기타</button>
    </div>
  </div>
</section>

<!-- 양식 그리드 -->
<section class="py-8">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between mb-6">
      <p class="text-gray-600">총 <span class="font-semibold text-gray-900">24</span>개의 양식</p>
      <select class="border-gray-200 rounded-lg text-sm focus:ring-navy-500 focus:border-navy-500">
        <option>최신순</option>
        <option>인기순</option>
        <option>이름순</option>
      </select>
    </div>

    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
      <% [
        { title: "물품 구매 기안문", desc: "표준 물품 구매를 위한 품의 및 기안 양식", category: "기안문", formats: ["HWP", "PDF"], downloads: 1234 },
        { title: "수의계약 사유서", desc: "수의계약 시 필요한 사유서 양식", category: "계약서", formats: ["HWP", "DOCX"], downloads: 892 },
        { title: "검수조서", desc: "물품 검수 시 작성하는 표준 검수조서", category: "검수조서", formats: ["HWP", "PDF"], downloads: 756 },
        { title: "견적서", desc: "2인 이상 견적서 표준 양식", category: "계약서", formats: ["HWP", "XLSX"], downloads: 654 },
        { title: "예정가격조서", desc: "예정가격 산정을 위한 조서 양식", category: "계약서", formats: ["HWP", "PDF"], downloads: 543 },
        { title: "출장 복명서", desc: "국내/국외 출장 복명서 양식", category: "기안문", formats: ["HWP"], downloads: 432 },
        { title: "업무 인수인계서", desc: "직위 변경 시 업무 인수인계 양식", category: "기타", formats: ["HWP", "DOCX"], downloads: 321 },
        { title: "회의록", desc: "각종 회의 결과 기록 양식", category: "기타", formats: ["HWP", "PDF"], downloads: 210 },
      ].each do |template| %>
        <div class="bg-white rounded-xl border border-gray-200 overflow-hidden hover:shadow-lg transition-shadow group">
          <!-- 미리보기 영역 -->
          <div class="aspect-[4/3] bg-gradient-to-br from-gray-50 to-gray-100 flex items-center justify-center relative">
            <span class="material-symbols-outlined text-6xl text-gray-300">description</span>
            <div class="absolute top-3 left-3">
              <span class="text-xs font-semibold px-2 py-1 bg-navy-100 text-navy-600 rounded-full"><%= template[:category] %></span>
            </div>
          </div>

          <!-- 정보 영역 -->
          <div class="p-4">
            <h3 class="font-bold text-gray-900 mb-1 group-hover:text-navy-600 transition-colors"><%= template[:title] %></h3>
            <p class="text-gray-500 text-sm mb-3"><%= template[:desc] %></p>

            <div class="flex items-center justify-between">
              <div class="flex gap-1">
                <% template[:formats].each do |format| %>
                  <span class="text-xs px-2 py-0.5 bg-gray-100 text-gray-600 rounded"><%= format %></span>
                <% end %>
              </div>
              <span class="text-xs text-gray-400"><span class="material-symbols-outlined text-sm align-middle">download</span> <%= number_with_delimiter(template[:downloads]) %></span>
            </div>

            <div class="flex gap-2 mt-4">
              <%= link_to template_path(1), class: "flex-1 text-center py-2 border border-gray-200 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 transition-colors" do %>
                미리보기
              <% end %>
              <button class="flex-1 py-2 bg-navy-600 text-white rounded-lg text-sm font-medium hover:bg-navy-700 transition-colors">
                다운로드
              </button>
            </div>
          </div>
        </div>
      <% end %>
    </div>

    <!-- 페이지네이션 -->
    <div class="flex justify-center mt-12">
      <nav class="flex items-center gap-1">
        <button class="w-10 h-10 flex items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100">
          <span class="material-symbols-outlined">chevron_left</span>
        </button>
        <button class="w-10 h-10 flex items-center justify-center rounded-lg bg-navy-600 text-white font-medium">1</button>
        <button class="w-10 h-10 flex items-center justify-center rounded-lg text-gray-600 hover:bg-gray-100 font-medium">2</button>
        <button class="w-10 h-10 flex items-center justify-center rounded-lg text-gray-600 hover:bg-gray-100 font-medium">3</button>
        <button class="w-10 h-10 flex items-center justify-center rounded-lg text-gray-400 hover:bg-gray-100">
          <span class="material-symbols-outlined">chevron_right</span>
        </button>
      </nav>
    </div>
  </div>
</section>
