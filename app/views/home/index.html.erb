<!-- Hero Section â€” ê²€ìƒ‰ + ê¸ˆì•¡ ì…ë ¥ ìœ„ì ¯ í†µí•© -->
<section class="relative overflow-hidden gradient-premium text-white">
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-30">
    <div class="absolute top-0 right-0 w-96 h-96 bg-point-500/20 rounded-full blur-3xl"></div>
    <div class="absolute bottom-0 left-0 w-96 h-96 bg-forest-500/20 rounded-full blur-3xl"></div>
  </div>

  <div class="relative container-wide section-lg">
    <div class="max-w-4xl mx-auto text-center">
      <!-- Badge -->
      <div class="inline-flex items-center gap-2 bg-white/10 backdrop-blur-sm px-4 py-2 rounded-full border border-white/20 mb-8 animate-fade-in">
        <span class="w-2 h-2 bg-forest-400 rounded-full animate-pulse"></span>
        <span class="text-sm font-medium text-white/90">ê³µë¬´ì›ì„ ìœ„í•œ ì‹¤ë¬´ í”Œë«í¼</span>
      </div>

      <!-- Headline -->
      <h1 class="text-4xl md:text-5xl lg:text-6xl font-bold mb-8 leading-[1.15] tracking-tight animate-slide-up">
        ê°ì‚¬ ê±±ì • ì—†ëŠ”,<br>
        <span class="text-forest-400">í‡´ê·¼ ìˆëŠ”,</span><br>
        ì€í‡´ ì¤€ë¹„ë˜ëŠ” ê³µë¬´ì›
      </h1>

      <!-- Subheadline -->
      <p class="text-xl md:text-2xl text-navy-200 mb-10 max-w-2xl mx-auto leading-relaxed animate-fade-in">
        ë³µì¡í•˜ê³  ê·€ì°®ì€ ì—…ë¬´, ë„êµ¬ê°€ ëŒ€ì‹  í•´ê²°í•©ë‹ˆë‹¤
      </p>

      <!-- ê²€ìƒ‰ ìœ„ì ¯ (ì±—ë´‡ í†µí•©) -->
      <div class="max-w-2xl mx-auto animate-slide-up">
        <form action="<%= chatbot_search_path %>" method="get" data-turbo="false" class="relative">
          <div class="flex items-center bg-white/10 backdrop-blur-xl rounded-2xl border border-white/20 hover:border-white/40 transition-all focus-within:border-forest-400 focus-within:bg-white/15">
            <span class="material-symbols-outlined text-navy-300 ml-5">search</span>
            <input type="text" name="query" placeholder="ê¶ê¸ˆí•œ ì—…ë¬´ë¥¼ ê²€ìƒ‰í•˜ì„¸ìš” (ì˜ˆ: ìˆ˜ì˜ê³„ì•½, ì˜ˆì‚°ì´ì›”, ì¶œì¥ë¹„)" class="flex-1 bg-transparent text-white placeholder-navy-300 px-4 py-4 md:py-5 text-lg outline-none">
            <button type="submit" class="btn btn-accent mr-2 px-6">ê²€ìƒ‰</button>
          </div>
        </form>
        <!-- ì¸ê¸° ê²€ìƒ‰ì–´ -->
        <div class="flex flex-wrap justify-center gap-2 mt-4">
          <% %w[ìˆ˜ì˜ê³„ì•½ ì˜ˆì‚°ì´ì›” ì¶œì¥ë¹„ ì—°ë§ì •ì‚° ê¸´ê¸‰ê³„ì•½ ì†Œì•¡ìˆ˜ì˜].each do |keyword| %>
            <%= link_to chatbot_search_path(query: keyword), class: "px-3 py-1.5 bg-white/10 hover:bg-white/20 rounded-full text-sm text-white/80 hover:text-white transition-all", data: { turbo: false } do %>
              <%= keyword %>
            <% end %>
          <% end %>
        </div>
      </div>

      <!-- Stats -->
      <div class="grid grid-cols-3 gap-8 mt-14 pt-14 border-t border-white/10">
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-bold text-white mb-2">7+</div>
          <div class="text-navy-300 text-sm">ìë™í™” ë„êµ¬</div>
        </div>
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-bold text-white mb-2">10+</div>
          <div class="text-navy-300 text-sm">ì—…ë¬´ ê°€ì´ë“œ</div>
        </div>
        <div class="text-center">
          <div class="text-3xl md:text-4xl font-bold text-white mb-2">50+</div>
          <div class="text-navy-300 text-sm">ì„œì‹/ì–‘ì‹</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Wave Divider -->
  <div class="relative h-20 md:h-28">
    <svg class="absolute bottom-0 w-full h-full" preserveAspectRatio="none" viewBox="0 0 1440 74">
      <path fill="#fafbfc" d="M0,0 C360,74 720,74 1080,37 C1260,18 1350,0 1440,0 L1440,74 L0,74 Z"></path>
    </svg>
  </div>
</section>

<!-- í•µì‹¬ ë„êµ¬ Section â€” ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥í•œ í˜•íƒœ (ìµœìƒë‹¨) -->
<section id="tools" class="section bg-surface-50">
  <div class="container-wide">
    <!-- Section Header -->
    <div class="text-center mb-12 md:mb-16">
      <span class="badge badge-point mb-4">ìë™í™” ë„êµ¬</span>
      <h2 class="text-navy-900 mb-4">ë°”ë¡œ ì‚¬ìš©í•˜ëŠ” ì‹¤ë¬´ ë„êµ¬</h2>
      <p class="text-lg text-navy-600 max-w-2xl mx-auto">
        ë³µì¡í•˜ê³  ì‹œê°„ ê±¸ë¦¬ëŠ” ì—…ë¬´, í´ë¦­ í•œ ë²ˆìœ¼ë¡œ í•´ê²°í•˜ì„¸ìš”
      </p>
    </div>

    <!-- ì£¼ìš” ë„êµ¬ 3ê°œ â€” í° ì¹´ë“œ -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
      <!-- ê³„ì•½ë°©ì‹ ê²°ì • -->
      <%= link_to contract_method_path, class: "group card card-interactive p-8 border-2 border-transparent hover:border-forest-400 relative overflow-hidden" do %>
        <div class="absolute top-0 right-0 w-32 h-32 bg-forest-500/5 rounded-full -translate-y-1/2 translate-x-1/2"></div>
        <div class="relative">
          <div class="flex items-center gap-3 mb-4">
            <div class="icon-container icon-container-lg bg-forest-100 group-hover:bg-forest-600 transition-colors">
              <span class="material-symbols-outlined text-2xl text-forest-600 group-hover:text-white transition-colors">gavel</span>
            </div>
            <span class="badge badge-forest">ì¸ê¸°</span>
          </div>
          <h3 class="text-xl font-bold text-navy-900 group-hover:text-forest-700 mb-2 transition-colors">ê³„ì•½ë°©ì‹ ê²°ì •</h3>
          <p class="text-navy-500 text-sm mb-4 leading-relaxed">ê¸ˆì•¡ê³¼ ìœ í˜•ì„ ì…ë ¥í•˜ë©´ ì…ì°°/ìˆ˜ì˜ê³„ì•½ ë°©ì‹ì„ ë°”ë¡œ íŒë‹¨í•©ë‹ˆë‹¤</p>
          <span class="inline-flex items-center gap-1 text-forest-600 text-sm font-semibold group-hover:gap-2 transition-all">
            ë°”ë¡œ ì‚¬ìš© <span class="material-symbols-outlined text-lg">arrow_forward</span>
          </span>
        </div>
      <% end %>

      <!-- ê³„ì•½ì„œë¥˜ ì›í´ë¦­ ìƒì„± -->
      <%= link_to contract_documents_path, class: "group card card-interactive p-8 border-2 border-transparent hover:border-point-400 relative overflow-hidden" do %>
        <div class="absolute top-0 right-0 w-32 h-32 bg-point-500/5 rounded-full -translate-y-1/2 translate-x-1/2"></div>
        <div class="relative">
          <div class="flex items-center gap-3 mb-4">
            <div class="icon-container icon-container-lg bg-point-100 group-hover:bg-point-600 transition-colors">
              <span class="material-symbols-outlined text-2xl text-point-600 group-hover:text-white transition-colors">fact_check</span>
            </div>
            <span class="badge badge-point">NEW</span>
          </div>
          <h3 class="text-xl font-bold text-navy-900 group-hover:text-point-700 mb-2 transition-colors">ê³„ì•½ì„œë¥˜ ì›í´ë¦­ ìƒì„±</h3>
          <p class="text-navy-500 text-sm mb-4 leading-relaxed">ë¬¼í’ˆ/ìš©ì—­/ê³µì‚¬ë³„ í•„ìˆ˜ ì„œë¥˜ ì²´í¬ë¦¬ìŠ¤íŠ¸ë¥¼ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤</p>
          <span class="inline-flex items-center gap-1 text-point-600 text-sm font-semibold group-hover:gap-2 transition-all">
            ë°”ë¡œ ì‚¬ìš© <span class="material-symbols-outlined text-lg">arrow_forward</span>
          </span>
        </div>
      <% end %>

      <!-- ì†Œìš”ì˜ˆì‚° ì¶”ì •ê¸° -->
      <%= link_to budget_estimator_path, class: "group card card-interactive p-8 border-2 border-transparent hover:border-navy-400 relative overflow-hidden" do %>
        <div class="absolute top-0 right-0 w-32 h-32 bg-navy-500/5 rounded-full -translate-y-1/2 translate-x-1/2"></div>
        <div class="relative">
          <div class="flex items-center gap-3 mb-4">
            <div class="icon-container icon-container-lg bg-navy-100 group-hover:bg-navy-600 transition-colors">
              <span class="material-symbols-outlined text-2xl text-navy-600 group-hover:text-white transition-colors">calculate</span>
            </div>
            <span class="badge badge-navy">NEW</span>
          </div>
          <h3 class="text-xl font-bold text-navy-900 group-hover:text-navy-700 mb-2 transition-colors">ì†Œìš”ì˜ˆì‚° ì¶”ì •ê¸°</h3>
          <p class="text-navy-500 text-sm mb-4 leading-relaxed">ê³µì‚¬/ìš©ì—­/ë¬¼í’ˆì˜ ëŒ€ëµì ì¸ ì†Œìš”ì˜ˆì‚°ì„ ë¯¸ë¦¬ ì¶”ì •í•©ë‹ˆë‹¤</p>
          <span class="inline-flex items-center gap-1 text-navy-600 text-sm font-semibold group-hover:gap-2 transition-all">
            ë°”ë¡œ ì‚¬ìš© <span class="material-symbols-outlined text-lg">arrow_forward</span>
          </span>
        </div>
      <% end %>
    </div>

    <!-- ë³´ì¡° ë„êµ¬ 4ê°œ â€” ì‘ì€ ì¹´ë“œ -->
    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
      <%= link_to pdf_tools_path, class: "group card card-interactive p-5 text-center" do %>
        <div class="icon-container bg-warm-100 group-hover:bg-warm-500 mx-auto mb-3 transition-colors">
          <span class="material-symbols-outlined text-xl text-warm-600 group-hover:text-white transition-colors">picture_as_pdf</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm group-hover:text-warm-700 transition-colors">PDF ë„êµ¬</h4>
        <p class="text-navy-500 text-xs mt-1">ë¶„í• Â·í•©ì¹˜ê¸°Â·ìª½ë²ˆí˜¸</p>
      <% end %>

      <%= link_to travel_calculator_path, class: "group card card-interactive p-5 text-center" do %>
        <div class="icon-container bg-point-100 group-hover:bg-point-600 mx-auto mb-3 transition-colors">
          <span class="material-symbols-outlined text-xl text-point-600 group-hover:text-white transition-colors">directions_car</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm group-hover:text-point-700 transition-colors">ì—¬ë¹„ê³„ì‚°ê¸°</h4>
        <p class="text-navy-500 text-xs mt-1">ì¶œì¥ë¹„ ìë™ ê³„ì‚°</p>
      <% end %>

      <%= link_to pre_contract_checklist_path, class: "group card card-interactive p-5 text-center" do %>
        <div class="icon-container bg-forest-100 group-hover:bg-forest-600 mx-auto mb-3 transition-colors">
          <span class="material-symbols-outlined text-xl text-forest-600 group-hover:text-white transition-colors">checklist_rtl</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm group-hover:text-forest-700 transition-colors">ì‚¬ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸</h4>
        <p class="text-navy-500 text-xs mt-1">ê³„ì•½ ì „ í•„ìˆ˜ ì ê²€</p>
      <% end %>

      <%= link_to contract_flow_path, class: "group card card-interactive p-5 text-center" do %>
        <div class="icon-container bg-navy-100 group-hover:bg-navy-600 mx-auto mb-3 transition-colors">
          <span class="material-symbols-outlined text-xl text-navy-600 group-hover:text-white transition-colors">account_tree</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm group-hover:text-navy-700 transition-colors">ê³„ì•½ íë¦„ë„</h4>
        <p class="text-navy-500 text-xs mt-1">ì „ì²´ í”„ë¡œì„¸ìŠ¤ í™•ì¸</p>
      <% end %>
    </div>

    <!-- CTA -->
    <div class="text-center mt-10">
      <%= link_to tools_path, class: "inline-flex items-center gap-2 text-point-600 hover:text-point-700 font-semibold transition-colors" do %>
        ëª¨ë“  ë„êµ¬ ë³´ê¸°
        <span class="material-symbols-outlined text-xl">arrow_forward</span>
      <% end %>
    </div>
  </div>
</section>

<!-- ê¸ˆì•¡ìœ¼ë¡œ ê³„ì•½ë°©ë²• ë°”ë¡œ ì°¾ê¸° â€” ì¸ë¼ì¸ ìœ„ì ¯ -->
<section id="price-finder" class="section bg-white">
  <div class="container-tight">
    <div class="card p-8 md:p-10 border-2 border-forest-100 bg-gradient-to-br from-forest-50/50 to-white">
      <div class="text-center mb-8">
        <div class="icon-container icon-container-lg bg-forest-100 mx-auto mb-4">
          <span class="material-symbols-outlined text-3xl text-forest-600">paid</span>
        </div>
        <h2 class="text-2xl font-bold text-navy-900 mb-2">ê¸ˆì•¡ìœ¼ë¡œ ê³„ì•½ë°©ë²• ë°”ë¡œ ì°¾ê¸°</h2>
        <p class="text-navy-600">ê¸ˆì•¡ê³¼ ìœ í˜•ì„ ì„ íƒí•˜ë©´ ì ì • ê³„ì•½ë°©ì‹ì„ ë°”ë¡œ ì•Œë ¤ë“œë¦½ë‹ˆë‹¤</p>
      </div>

      <div class="max-w-lg mx-auto">
        <div class="flex gap-3 mb-4">
          <select id="price-category" class="flex-1 px-4 py-3 border border-gray-200 rounded-xl text-navy-700 font-medium focus:border-forest-400 focus:ring-2 focus:ring-forest-100 outline-none transition-all">
            <option value="goods">ë¬¼í’ˆ</option>
            <option value="service">ìš©ì—­</option>
            <option value="construction">ê³µì‚¬</option>
          </select>
          <div class="flex-[2] relative">
            <input type="text" id="price-input" placeholder="ì¶”ì •ê°€ê²©(ë¶€ê°€ì„¸ ë³„ë„)" class="w-full px-4 py-3 border border-gray-200 rounded-xl text-navy-700 font-medium focus:border-forest-400 focus:ring-2 focus:ring-forest-100 outline-none transition-all pr-10">
            <span class="absolute right-4 top-1/2 -translate-y-1/2 text-navy-400 text-sm">ì›</span>
          </div>
        </div>

        <!-- ë¹ ë¥¸ ê¸ˆì•¡ ë²„íŠ¼ -->
        <div class="flex flex-wrap gap-2 mb-6">
          <% [["1ì²œë§Œì›", 10_000_000], ["2ì²œë§Œì›", 20_000_000], ["5ì²œë§Œì›", 50_000_000], ["1ì–µì›", 100_000_000], ["2ì–µì›", 200_000_000]].each do |label, val| %>
            <button type="button" class="price-quick-btn px-3 py-1.5 bg-surface-100 hover:bg-forest-100 text-navy-600 hover:text-forest-700 rounded-lg text-sm font-medium transition-all" data-value="<%= val %>"><%= label %></button>
          <% end %>
        </div>

        <!-- ê²°ê³¼ ì˜ì—­ -->
        <div id="price-result" class="hidden">
          <div id="price-result-content" class="p-5 rounded-xl border-2"></div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- ì—…ë¬´ ë„ìš°ë¯¸ Section -->
<section id="assistant" class="section bg-surface-50">
  <div class="container-wide">
    <!-- Section Header -->
    <div class="text-center mb-16 md:mb-20">
      <span class="badge badge-navy mb-4">ë²•ë ¹ ê°€ì´ë“œ</span>
      <h2 class="text-navy-900 mb-6">ì£¼ì œë³„ ì—…ë¬´ ê°€ì´ë“œ</h2>
      <p class="text-xl text-navy-600 max-w-2xl mx-auto">
        ë²•ë ¹ Â· ì„œì‹ Â· íë¦„ë„ë¥¼ í•œëˆˆì—
      </p>
    </div>

    <!-- ì£¼ìš” ê°€ì´ë“œ (ê³„ì•½ ì¤‘ì‹¬) -->
    <div class="grid grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8">
      <!-- ìˆ˜ì˜ê³„ì•½ -->
      <%= link_to "/topics/private-contract", class: "group card card-interactive p-6 md:p-8 border-2 border-transparent hover:border-point-300" do %>
        <div class="text-4xl mb-5">ğŸ“</div>
        <h3 class="font-bold text-lg text-navy-900 group-hover:text-point-600 mb-2 transition-colors">ìˆ˜ì˜ê³„ì•½</h3>
        <p class="text-navy-500 text-sm mb-4">ë²•ë ¹ 3ë‹¨ë¹„êµ Â· ì„œì‹ Â· íë¦„ë„</p>
        <div class="flex flex-wrap gap-2">
          <span class="badge badge-point text-[10px]">ë²•ë ¹</span>
          <span class="badge badge-forest text-[10px]">ì„œì‹</span>
          <span class="badge badge-navy text-[10px]">ê²€í† ë„êµ¬</span>
        </div>
      <% end %>

      <!-- ì†Œì•¡ìˆ˜ì˜ê³„ì•½ -->
      <%= link_to "/topics/small-amount-contract", class: "group card card-interactive p-6 md:p-8 border-2 border-transparent hover:border-forest-300" do %>
        <div class="text-4xl mb-5">ğŸ’°</div>
        <h3 class="font-bold text-lg text-navy-900 group-hover:text-forest-600 mb-2 transition-colors">ì†Œì•¡ìˆ˜ì˜</h3>
        <p class="text-navy-500 text-sm mb-4">ê¸ˆì•¡ê¸°ì¤€ Â· 1ì¸ê²¬ì  Â· 2ì¸ê²¬ì </p>
        <div class="flex flex-wrap gap-2">
          <span class="badge badge-forest text-[10px]">ê¸ˆì•¡ê¸°ì¤€</span>
          <span class="badge badge-navy text-[10px]">íë¦„ë„</span>
        </div>
      <% end %>

      <!-- ê¸´ê¸‰ê³„ì•½ -->
      <%= link_to "/topics/emergency-contract", class: "group card card-interactive p-6 md:p-8 border-2 border-transparent hover:border-warm-300" do %>
        <div class="text-4xl mb-5">ğŸš¨</div>
        <h3 class="font-bold text-lg text-navy-900 group-hover:text-warm-600 mb-2 transition-colors">ê¸´ê¸‰ê³„ì•½</h3>
        <p class="text-navy-500 text-sm mb-4">ê¸´ê¸‰ì‚¬ìœ  Â· ìˆ˜ì˜ê·¼ê±° Â· ì ˆì°¨</p>
        <div class="flex flex-wrap gap-2">
          <span class="badge badge-warm text-[10px]">ê¸´ê¸‰ì‚¬ìœ </span>
          <span class="badge badge-navy text-[10px]">íë¦„ë„</span>
        </div>
      <% end %>

      <!-- ì˜ˆì‚°ì´ì›” -->
      <%= link_to "/topics/budget-carryover", class: "group card card-interactive p-6 md:p-8 border-2 border-transparent hover:border-navy-300" do %>
        <div class="text-4xl mb-5">ğŸ“…</div>
        <h3 class="font-bold text-lg text-navy-900 group-hover:text-navy-600 mb-2 transition-colors">ì˜ˆì‚°ì´ì›”</h3>
        <p class="text-navy-500 text-sm mb-4">ëª…ì‹œì´ì›” Â· ì‚¬ê³ ì´ì›” Â· ê³„ì†ë¹„</p>
        <div class="flex flex-wrap gap-2">
          <span class="badge badge-navy text-[10px]">ì´ì›”ìš”ê±´</span>
          <span class="badge badge-point text-[10px]">FAQ</span>
        </div>
      <% end %>
    </div>

    <!-- ê¸°íƒ€ ê°€ì´ë“œ -->
    <div class="flex flex-wrap justify-center gap-3 mb-10">
      <%= link_to "/topics/travel-expense", class: "inline-flex items-center gap-2 px-4 py-2.5 bg-white hover:bg-surface-100 rounded-xl text-sm text-navy-600 hover:text-navy-900 border border-gray-200 hover:border-gray-300 transition-all" do %>
        <span class="text-lg">ğŸ’¼</span>
        ì¶œì¥ë¹„
      <% end %>
      <%= link_to "/topics/year-end-settlement", class: "inline-flex items-center gap-2 px-4 py-2.5 bg-white hover:bg-surface-100 rounded-xl text-sm text-navy-600 hover:text-navy-900 border border-gray-200 hover:border-gray-300 transition-all" do %>
        <span class="text-lg">ğŸ§¾</span>
        ì—°ë§ì •ì‚°
      <% end %>
      <%= link_to "/topics/price-negotiation", class: "inline-flex items-center gap-2 px-4 py-2.5 bg-white hover:bg-surface-100 rounded-xl text-sm text-navy-600 hover:text-navy-900 border border-gray-200 hover:border-gray-300 transition-all" do %>
        <span class="text-lg">ğŸ¤</span>
        ê°€ê²©í˜‘ìƒ
      <% end %>
    </div>

    <!-- CTA -->
    <div class="text-center">
      <%= link_to guides_path, class: "inline-flex items-center gap-2 text-navy-600 hover:text-navy-700 font-semibold transition-colors" do %>
        ëª¨ë“  ê°€ì´ë“œ ë³´ê¸°
        <span class="material-symbols-outlined text-xl">arrow_forward</span>
      <% end %>
    </div>
  </div>
</section>

<!-- ì–‘ì‹ ë‹¤ìš´ë¡œë“œ â€” ì¸ê¸° ì–‘ì‹ ë¹ ë¥¸ ì ‘ê·¼ -->
<section id="templates" class="section bg-white">
  <div class="container-wide">
    <div class="text-center mb-12">
      <span class="badge badge-forest mb-4">ì„œì‹/ì–‘ì‹</span>
      <h2 class="text-navy-900 mb-4">ìì£¼ ì“°ëŠ” ì–‘ì‹ ë‹¤ìš´ë¡œë“œ</h2>
      <p class="text-lg text-navy-600">í•„ìš”í•  ë•Œ ë°”ë¡œ ë‹¤ìš´ë°›ì•„ ì‚¬ìš©í•˜ì„¸ìš”</p>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-4">
      <% [
        { icon: "description", title: "ë¬¼í’ˆ êµ¬ë§¤ê³„ì•½ì„œ", color: "navy" },
        { icon: "fact_check", title: "ê²€ìˆ˜ì¡°ì„œ", color: "forest" },
        { icon: "receipt", title: "ëŒ€ê¸ˆì²­êµ¬ì„œ", color: "point" },
        { icon: "assignment", title: "ìš©ì—­ ê³„ì•½ì„œ", color: "warm" },
        { icon: "checklist", title: "ì°©ìˆ˜ì‹ ê³ ì„œ", color: "navy" },
        { icon: "shield", title: "ì²­ë ´ì„œì•½ì„œ", color: "forest" }
      ].each do |tmpl| %>
        <div class="group card card-interactive p-5 text-center cursor-pointer" onclick="alert('ì–‘ì‹ ë‹¤ìš´ë¡œë“œëŠ” ì–‘ì‹ í˜ì´ì§€ì—ì„œ ì´ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.')">
          <div class="icon-container bg-<%= tmpl[:color] %>-100 group-hover:bg-<%= tmpl[:color] %>-600 mx-auto mb-3 transition-colors">
            <span class="material-symbols-outlined text-xl text-<%= tmpl[:color] %>-600 group-hover:text-white transition-colors"><%= tmpl[:icon] %></span>
          </div>
          <h4 class="font-semibold text-navy-900 text-sm"><%= tmpl[:title] %></h4>
        </div>
      <% end %>
    </div>

    <div class="text-center mt-8">
      <%= link_to templates_path, class: "inline-flex items-center gap-2 text-forest-600 hover:text-forest-700 font-semibold transition-colors" do %>
        ì „ì²´ ì–‘ì‹ ë³´ê¸°
        <span class="material-symbols-outlined text-xl">arrow_forward</span>
      <% end %>
    </div>
  </div>
</section>

<!-- Quiz Section (ì¶•ì†Œ, ê¹”ë”í•˜ê²Œ) -->
<section id="quiz" class="section gradient-premium text-white relative overflow-hidden">
  <!-- Background -->
  <div class="absolute inset-0">
    <div class="absolute top-1/4 right-1/4 w-64 h-64 bg-point-500/20 rounded-full blur-3xl"></div>
    <div class="absolute bottom-1/4 left-1/4 w-64 h-64 bg-forest-500/20 rounded-full blur-3xl"></div>
  </div>

  <div class="relative container-tight">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <span class="badge bg-white/20 text-white mb-4">í€´ì¦ˆ</span>
      <h2 class="text-white mb-6">ì˜¤ëŠ˜ì˜ ì‹¤ë¬´ í€´ì¦ˆ</h2>
      <p class="text-xl text-navy-200 max-w-xl mx-auto">
        ë§¤ì¼ ìƒˆë¡œìš´ í€´ì¦ˆë¡œ ì‹¤ë¬´ ì§€ì‹ì„ ì ê²€í•˜ì„¸ìš”
      </p>
    </div>

    <!-- Quiz Card -->
    <div class="card-glass bg-white/10 backdrop-blur-xl rounded-3xl p-8 md:p-10 border border-white/20">
      <div class="flex items-center gap-3 mb-8">
        <span id="quiz-progress" class="bg-forest-500 text-white px-4 py-1.5 rounded-full text-sm font-semibold">ë¬¸ì œ 1/5</span>
        <span id="quiz-category" class="text-navy-300 text-sm">ì˜ˆì‚°íšŒê³„</span>
      </div>

      <h3 id="quiz-question" class="text-xl md:text-2xl font-bold mb-8 leading-relaxed"></h3>

      <div class="space-y-3 mb-10" id="quiz-options"></div>

      <!-- ê²°ê³¼ ë©”ì‹œì§€ -->
      <div id="quiz-result" class="hidden mb-6 p-4 rounded-xl">
        <p class="font-semibold text-lg" id="result-message"></p>
        <p class="text-sm mt-2 text-navy-100" id="result-explanation"></p>
      </div>

      <!-- ìµœì¢… ê²°ê³¼ -->
      <div id="quiz-final" class="hidden text-center py-8">
        <div class="text-6xl mb-4">ğŸ‰</div>
        <h3 class="text-2xl font-bold text-white mb-2">í€´ì¦ˆ ì™„ë£Œ!</h3>
        <p class="text-navy-200 mb-2">ì´ 5ë¬¸ì œ ì¤‘ <span id="final-score" class="text-forest-400 font-bold">0</span>ë¬¸ì œ ì •ë‹µ</p>
        <button id="quiz-restart" class="btn btn-lg btn-accent mt-4">
          ë‹¤ì‹œ ë„ì „í•˜ê¸°
          <span class="material-symbols-outlined">refresh</span>
        </button>
      </div>

      <div id="quiz-footer" class="flex flex-col sm:flex-row justify-between items-center gap-4">
        <span class="text-navy-300 text-sm flex items-center gap-2">
          <span class="material-symbols-outlined text-warm-400">local_fire_department</span>
          ì˜¤ëŠ˜ 28ëª…ì´ ë„ì „í–ˆì–´ìš”
        </span>
        <button id="quiz-submit" class="btn btn-lg btn-accent" disabled>
          ì •ë‹µ í™•ì¸
          <span class="material-symbols-outlined">check</span>
        </button>
      </div>

      <script>
      document.addEventListener('turbo:load', function() {
        const allQuizData = [
          { category: "ì˜ˆì‚°íšŒê³„", question: "ë‹¤ìŒ ì¤‘ ì˜ˆì‚°ì˜ ì´ì›”ì— í•´ë‹¹í•˜ì§€ ì•ŠëŠ” ê²ƒì€?", options: ["ëª…ì‹œì´ì›”", "ì‚¬ê³ ì´ì›”", "ê³„ì†ë¹„ì´ì›”", "ì˜ˆë¹„ë¹„ì´ì›”"], answer: 3, explanation: "ì˜ˆë¹„ë¹„ì´ì›”ì€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°œë…ì…ë‹ˆë‹¤." },
          { category: "ì˜ˆì‚°íšŒê³„", question: "ë‹¤ìŒ ì¤‘ ì„¸ì¶œì˜ˆì‚°ì˜ ì´ìš©ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€?", options: ["ì¥ ê°„ì˜ ìƒí˜¸ìœµí†µ", "ê´€ ê°„ì˜ ìƒí˜¸ìœµí†µ", "í•­ ê°„ì˜ ìƒí˜¸ìœµí†µ", "ì„¸í•­ ê°„ì˜ ìƒí˜¸ìœµí†µ"], answer: 2, explanation: "ì´ìš©ì€ ì…ë²•ê³¼ëª©ì¸ 'í•­' ê°„ì˜ ìƒí˜¸ìœµí†µì„ ë§í•©ë‹ˆë‹¤." },
          { category: "ì˜ˆì‚°íšŒê³„", question: "ì˜ˆë¹„ë¹„ ì‚¬ìš© í›„ êµ­íšŒ ìŠ¹ì¸ì„ ë°›ì•„ì•¼ í•˜ëŠ” ê¸°í•œì€?", options: ["ë‹¤ìŒ ì—°ë„ ì •ê¸°íšŒ ê°œíšŒ ì „", "ë‹¤ìŒ ì—°ë„ ì •ê¸°íšŒ ì¤‘", "ì‚¬ìš© í›„ 3ê°œì›” ì´ë‚´", "ì‚¬ìš© í›„ 6ê°œì›” ì´ë‚´"], answer: 1, explanation: "ì˜ˆë¹„ë¹„ ì‚¬ìš© í›„ ë‹¤ìŒ ì—°ë„ ì •ê¸°íšŒ ì¤‘ì— êµ­íšŒì˜ ìŠ¹ì¸ì„ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤." },
          { category: "ì˜ˆì‚°íšŒê³„", question: "ì‚¬ê³ ì´ì›”ì˜ ìš”ê±´ì´ ì•„ë‹Œ ê²ƒì€?", options: ["ì—°ë„ ë‚´ ì§€ì¶œì›ì¸í–‰ìœ„", "ë¶ˆê°€í”¼í•œ ì‚¬ìœ ", "ì„¸ì…ì„¸ì¶œì˜ˆì‚°ì— ëª…ì‹œ", "ì—°ë„ ë‚´ ì§€ì¶œí•˜ì§€ ëª»í•œ ê²½ë¹„"], answer: 2, explanation: "ì„¸ì…ì„¸ì¶œì˜ˆì‚°ì— ëª…ì‹œí•˜ëŠ” ê²ƒì€ ëª…ì‹œì´ì›”ì˜ ìš”ê±´ì…ë‹ˆë‹¤." },
          { category: "ì˜ˆì‚°íšŒê³„", question: "ì˜ˆì‚°ì˜ ì „ìš©ì´ë€?", options: ["íšŒê³„ì—°ë„ ê°„ ì´ì›”", "í•­ ê°„ì˜ ìƒí˜¸ìœµí†µ", "ì„¸í•­Â·ëª© ê°„ì˜ ìƒí˜¸ìœµí†µ", "ì˜ˆë¹„ë¹„ ì‚¬ìš©"], answer: 2, explanation: "ì „ìš©ì€ í–‰ì •ê³¼ëª©ì¸ ì„¸í•­Â·ëª© ê°„ì˜ ìƒí˜¸ìœµí†µì„ ë§í•©ë‹ˆë‹¤." },
          { category: "ê³„ì•½", question: "ë¬¼í’ˆ êµ¬ë§¤ ì‹œ 1ì¸ ê²¬ì  ìˆ˜ì˜ê³„ì•½ì´ ê°€ëŠ¥í•œ ì¶”ì •ê°€ê²©(ë¶€ê°€ì„¸ ë³„ë„) ê¸°ì¤€ì€?", options: ["1ì²œë§Œì› ì´í•˜", "2ì²œë§Œì› ì´í•˜", "3ì²œë§Œì› ì´í•˜", "5ì²œë§Œì› ì´í•˜"], answer: 1, explanation: "ë¬¼í’ˆÂ·ìš©ì—­ì˜ ê²½ìš° ì¶”ì •ê°€ê²© 2ì²œë§Œì› ì´í•˜ì¼ ë•Œ 1ì¸ ê²¬ì  ìˆ˜ì˜ê³„ì•½ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤." },
          { category: "ê³„ì•½", question: "ë‚˜ë¼ì¥í„° ì „ìì…ì°° ì‹œ ì…ì°°ê³µê³  ê¸°ê°„ì€ ìµœì†Œ ë©°ì¹ ì¸ê°€?", options: ["5ì¼", "7ì¼", "10ì¼", "14ì¼"], answer: 1, explanation: "ì „ìì…ì°°ì˜ ê²½ìš° ì…ì°°ê³µê³  ê¸°ê°„ì€ ìµœì†Œ 7ì¼ ì´ìƒì…ë‹ˆë‹¤." },
          { category: "ê³„ì•½", question: "ê³„ì•½ë³´ì¦ê¸ˆì˜ ì›ì¹™ì ì¸ ë¹„ìœ¨ì€?", options: ["ê³„ì•½ê¸ˆì•¡ì˜ 5%", "ê³„ì•½ê¸ˆì•¡ì˜ 10%", "ê³„ì•½ê¸ˆì•¡ì˜ 15%", "ê³„ì•½ê¸ˆì•¡ì˜ 20%"], answer: 1, explanation: "ê³„ì•½ë³´ì¦ê¸ˆì€ ê³„ì•½ê¸ˆì•¡ì˜ 10% ì´ìƒìœ¼ë¡œ ë‚©ë¶€í•´ì•¼ í•©ë‹ˆë‹¤." },
          { category: "ê³„ì•½", question: "ì„ ê¸ˆì˜ ì§€ê¸‰ í•œë„ëŠ”?", options: ["ê³„ì•½ê¸ˆì•¡ì˜ 50%", "ê³„ì•½ê¸ˆì•¡ì˜ 60%", "ê³„ì•½ê¸ˆì•¡ì˜ 70%", "ê³„ì•½ê¸ˆì•¡ì˜ 80%"], answer: 2, explanation: "ì„ ê¸ˆì€ ê³„ì•½ê¸ˆì•¡ì˜ 70% ì´ë‚´ì—ì„œ ì§€ê¸‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤." },
          { category: "ê³„ì•½", question: "ë³µìˆ˜ì˜ˆë¹„ê°€ê²© ì‘ì„± ê°œìˆ˜ëŠ”?", options: ["10ê°œ", "15ê°œ", "20ê°œ", "25ê°œ"], answer: 1, explanation: "ë³µìˆ˜ì˜ˆë¹„ê°€ê²©ì€ 15ê°œë¥¼ ì‘ì„±í•©ë‹ˆë‹¤." },
          { category: "ë³µë¬´", question: "ê³µë¬´ì›ì˜ ë³‘ê°€ ì¼ìˆ˜ëŠ” ì—°ê°„ ìµœëŒ€ ë©°ì¹ ì¸ê°€?", options: ["30ì¼", "60ì¼", "90ì¼", "120ì¼"], answer: 1, explanation: "ê³µë¬´ì›ì˜ ë³‘ê°€ëŠ” ì—° 60ì¼ ì´ë‚´ì…ë‹ˆë‹¤." },
          { category: "ë³µë¬´", question: "ì¬ì§ê¸°ê°„ 1ë…„ ë¯¸ë§Œ ê³µë¬´ì›ì˜ ì—°ê°€ ì¼ìˆ˜ëŠ”?", options: ["8ì¼", "11ì¼", "14ì¼", "15ì¼"], answer: 1, explanation: "ì¬ì§ê¸°ê°„ 1ë…„ ë¯¸ë§Œ ê³µë¬´ì›ì˜ ì—°ê°€ ì¼ìˆ˜ëŠ” 11ì¼ì…ë‹ˆë‹¤." },
          { category: "ë³µë¬´", question: "ë°°ìš°ì ì¶œì‚°íœ´ê°€ ì¼ìˆ˜ëŠ”?", options: ["5ì¼", "10ì¼", "15ì¼", "20ì¼"], answer: 1, explanation: "ë°°ìš°ì ì¶œì‚°íœ´ê°€ëŠ” 10ì¼ì…ë‹ˆë‹¤." },
          { category: "ë¬¸ì„œ", question: "ê³µë¬¸ì„œì˜ ë³´ì¡´ê¸°ê°„ ì¤‘ 'ì˜êµ¬'ì— í•´ë‹¹í•˜ëŠ” ê²ƒì€?", options: ["ì¼ë°˜ í†µê³„ìë£Œ", "ì¡°ë¡€Â·ê·œì¹™", "ë‹¨ìˆœ ë¯¼ì›ì„œë¥˜", "ì¼ì¼ì—…ë¬´ë³´ê³ "], answer: 1, explanation: "ì¡°ë¡€, ê·œì¹™ ë“± ë²•ê·œë¬¸ì„œëŠ” ì˜êµ¬ ë³´ì¡´ ëŒ€ìƒì…ë‹ˆë‹¤." },
          { category: "ë¯¼ì›", question: "ì •ë³´ê³µê°œ ì²­êµ¬ì— ëŒ€í•œ ê²°ì • ê¸°í•œì€?", options: ["5ì¼ ì´ë‚´", "7ì¼ ì´ë‚´", "10ì¼ ì´ë‚´", "14ì¼ ì´ë‚´"], answer: 2, explanation: "ì •ë³´ê³µê°œ ì²­êµ¬ë¥¼ ë°›ì€ ë‚ ë¶€í„° 10ì¼ ì´ë‚´ì— ê³µê°œ ì—¬ë¶€ë¥¼ ê²°ì •í•´ì•¼ í•©ë‹ˆë‹¤." },
          { category: "ê°ì‚¬", question: "ì¼ìƒê°ì‚¬ ëŒ€ìƒì´ ì•„ë‹Œ ê²ƒì€?", options: ["ê³„ì•½", "ì˜ˆì‚° ì „ìš©", "êµ­ê³ ë³´ì¡°ê¸ˆ êµë¶€", "ì¼ë°˜ ë¯¼ì›ì²˜ë¦¬"], answer: 3, explanation: "ì¼ë°˜ ë¯¼ì›ì²˜ë¦¬ëŠ” ì¼ìƒê°ì‚¬ ëŒ€ìƒì´ ì•„ë‹™ë‹ˆë‹¤." },
          { category: "ì¸ì‚¬", question: "5ê¸‰ ê³µë¬´ì›ì˜ ì •ë…„ì€?", options: ["58ì„¸", "60ì„¸", "62ì„¸", "65ì„¸"], answer: 1, explanation: "ì¼ë°˜ì§ ê³µë¬´ì›ì˜ ì •ë…„ì€ 60ì„¸ì…ë‹ˆë‹¤." },
          { category: "ê³„ì•½", question: "ì§€ì²´ìƒê¸ˆë¥ ì˜ ìƒí•œì€?", options: ["ê³„ì•½ê¸ˆì•¡ì˜ 10%", "ê³„ì•½ê¸ˆì•¡ì˜ 15%", "ê³„ì•½ê¸ˆì•¡ì˜ 20%", "ê³„ì•½ê¸ˆì•¡ì˜ 30%"], answer: 0, explanation: "ì§€ì²´ìƒê¸ˆì€ ê³„ì•½ê¸ˆì•¡ì˜ 10%ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤." },
          { category: "ì˜ˆì‚°íšŒê³„", question: "ì§€ë°©ìì¹˜ë‹¨ì²´ì˜ ì¶œë‚©íì‡„ì¼ì€?", options: ["12ì›” 31ì¼", "ë‹¤ìŒ ì—°ë„ 1ì›” 31ì¼", "ë‹¤ìŒ ì—°ë„ 2ì›” ë§ì¼", "ë‹¤ìŒ ì—°ë„ 3ì›” 31ì¼"], answer: 2, explanation: "ì§€ë°©ìì¹˜ë‹¨ì²´ì˜ ì¶œë‚©íì‡„ì¼ì€ ë‹¤ìŒ ì—°ë„ 2ì›” ë§ì¼ì…ë‹ˆë‹¤." },
          { category: "ë³µë¬´", question: "ì‹œê°„ì™¸ê·¼ë¬´ìˆ˜ë‹¹ ì§€ê¸‰ ë‹¨ê°€ ì‚°ì • ì‹œ ì‚¬ìš©í•˜ëŠ” ë¶„ëª¨ëŠ”?", options: ["174ì‹œê°„", "209ì‹œê°„", "226ì‹œê°„", "243ì‹œê°„"], answer: 1, explanation: "ì‹œê°„ì™¸ê·¼ë¬´ìˆ˜ë‹¹ì€ ì›” ë´‰ê¸‰ì•¡ì„ 209ì‹œê°„ìœ¼ë¡œ ë‚˜ëˆˆ ê¸ˆì•¡ì„ ê¸°ì¤€ìœ¼ë¡œ ì‚°ì •í•©ë‹ˆë‹¤." }
        ];

        function getDailyQuiz() {
          const today = new Date();
          const seed = today.getFullYear() * 10000 + (today.getMonth() + 1) * 100 + today.getDate();
          const shuffled = [...allQuizData];
          for (let i = shuffled.length - 1; i > 0; i--) {
            const j = Math.floor((seed * (i + 1) * 9301 + 49297) % 233280 / 233280 * (i + 1));
            [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
          }
          return shuffled.slice(0, 5);
        }

        const quizData = getDailyQuiz();
        let currentQuestion = 0;
        let score = 0;
        let selectedOption = null;
        let answered = false;

        const progressEl = document.getElementById('quiz-progress');
        const categoryEl = document.getElementById('quiz-category');
        const questionEl = document.getElementById('quiz-question');
        const optionsEl = document.getElementById('quiz-options');
        const resultDiv = document.getElementById('quiz-result');
        const resultMessage = document.getElementById('result-message');
        const resultExplanation = document.getElementById('result-explanation');
        const submitBtn = document.getElementById('quiz-submit');
        const finalDiv = document.getElementById('quiz-final');
        const finalScore = document.getElementById('final-score');
        const footerDiv = document.getElementById('quiz-footer');
        const restartBtn = document.getElementById('quiz-restart');

        function renderQuestion() {
          const quiz = quizData[currentQuestion];
          progressEl.textContent = `ë¬¸ì œ ${currentQuestion + 1}/5`;
          categoryEl.textContent = quiz.category;
          questionEl.textContent = quiz.question;

          optionsEl.innerHTML = quiz.options.map((opt, idx) => `
            <button data-index="${idx}" class="quiz-option w-full text-left bg-white/10 hover:bg-white/20 rounded-xl p-4 transition-all duration-200 border border-white/10 hover:border-white/30 group cursor-pointer">
              <span class="flex items-center gap-3">
                <span class="option-number w-8 h-8 rounded-full bg-white/10 group-hover:bg-white/20 flex items-center justify-center text-sm font-medium transition-colors">${idx + 1}</span>
                <span class="font-medium">${opt}</span>
                <span class="result-icon ml-auto hidden">
                  <span class="material-symbols-outlined text-xl"></span>
                </span>
              </span>
            </button>
          `).join('');

          document.querySelectorAll('.quiz-option').forEach(option => {
            option.addEventListener('click', handleOptionClick);
          });

          selectedOption = null;
          answered = false;
          resultDiv.classList.add('hidden');
          resultDiv.classList.remove('bg-forest-500/20', 'bg-rose-500/20');
          resultMessage.classList.remove('text-forest-300', 'text-rose-300');
          submitBtn.disabled = true;
          submitBtn.innerHTML = 'ì •ë‹µ í™•ì¸ <span class="material-symbols-outlined">check</span>';
        }

        function handleOptionClick() {
          if (answered) return;
          document.querySelectorAll('.quiz-option').forEach(opt => {
            opt.classList.remove('bg-forest-500/30', 'border-forest-400');
            opt.classList.add('bg-white/10', 'border-white/10');
          });
          this.classList.remove('bg-white/10', 'border-white/10');
          this.classList.add('bg-forest-500/30', 'border-forest-400');
          selectedOption = this;
          submitBtn.disabled = false;
        }

        function handleSubmit() {
          if (!selectedOption) return;
          if (!answered) {
            answered = true;
            const quiz = quizData[currentQuestion];
            const selectedIdx = parseInt(selectedOption.dataset.index);
            const isCorrect = selectedIdx === quiz.answer;
            if (isCorrect) score++;

            document.querySelectorAll('.quiz-option').forEach(opt => {
              opt.classList.add('cursor-not-allowed');
              const idx = parseInt(opt.dataset.index);
              const icon = opt.querySelector('.result-icon');
              const iconSpan = icon.querySelector('.material-symbols-outlined');
              if (idx === quiz.answer) {
                opt.classList.remove('bg-white/10', 'bg-forest-500/30');
                opt.classList.add('bg-forest-500/40', 'border-forest-400');
                icon.classList.remove('hidden');
                iconSpan.textContent = 'check_circle';
                iconSpan.classList.add('text-forest-300');
              } else if (opt === selectedOption && !isCorrect) {
                opt.classList.remove('bg-forest-500/30');
                opt.classList.add('bg-rose-500/30', 'border-rose-400');
                icon.classList.remove('hidden');
                iconSpan.textContent = 'cancel';
                iconSpan.classList.add('text-rose-300');
              }
            });

            resultDiv.classList.remove('hidden');
            if (isCorrect) {
              resultDiv.classList.add('bg-forest-500/20');
              resultMessage.textContent = 'ì •ë‹µì…ë‹ˆë‹¤!';
              resultMessage.classList.add('text-forest-300');
            } else {
              resultDiv.classList.add('bg-rose-500/20');
              resultMessage.textContent = 'ì˜¤ë‹µì…ë‹ˆë‹¤.';
              resultMessage.classList.add('text-rose-300');
            }
            resultExplanation.textContent = quiz.explanation;

            if (currentQuestion < quizData.length - 1) {
              submitBtn.innerHTML = 'ë‹¤ìŒ ë¬¸ì œ <span class="material-symbols-outlined">arrow_forward</span>';
            } else {
              submitBtn.innerHTML = 'ê²°ê³¼ ë³´ê¸° <span class="material-symbols-outlined">emoji_events</span>';
            }
          } else {
            if (currentQuestion < quizData.length - 1) {
              currentQuestion++;
              renderQuestion();
            } else {
              questionEl.classList.add('hidden');
              optionsEl.classList.add('hidden');
              resultDiv.classList.add('hidden');
              footerDiv.classList.add('hidden');
              finalDiv.classList.remove('hidden');
              finalScore.textContent = score;
            }
          }
        }

        function handleRestart() {
          currentQuestion = 0;
          score = 0;
          questionEl.classList.remove('hidden');
          optionsEl.classList.remove('hidden');
          footerDiv.classList.remove('hidden');
          finalDiv.classList.add('hidden');
          renderQuestion();
        }

        submitBtn.addEventListener('click', handleSubmit);
        restartBtn.addEventListener('click', handleRestart);
        renderQuestion();
      });
      </script>
    </div>
  </div>
</section>

<!-- ì™¸ë¶€ ì‹œìŠ¤í…œ ë°”ë¡œê°€ê¸° Section -->
<section id="external-links" class="section bg-white">
  <div class="container-wide">
    <div class="text-center mb-12">
      <span class="badge badge-navy mb-4">ë°”ë¡œê°€ê¸°</span>
      <h2 class="text-navy-900 mb-6">ìì£¼ ì‚¬ìš©í•˜ëŠ” ì™¸ë¶€ ì‹œìŠ¤í…œ</h2>
    </div>

    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
      <a href="https://www.g2b.go.kr" target="_blank" rel="noopener" class="group card card-hover p-5 text-center">
        <div class="w-14 h-14 mx-auto mb-4 bg-blue-100 rounded-2xl flex items-center justify-center group-hover:bg-blue-600 transition-colors">
          <span class="material-symbols-outlined text-2xl text-blue-600 group-hover:text-white transition-colors">storefront</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm mb-1">ë‚˜ë¼ì¥í„°</h4>
        <p class="text-navy-500 text-xs">G2B ì¡°ë‹¬ì‹œìŠ¤í…œ</p>
      </a>

      <a href="https://www.s2b.kr" target="_blank" rel="noopener" class="group card card-hover p-5 text-center">
        <div class="w-14 h-14 mx-auto mb-4 bg-green-100 rounded-2xl flex items-center justify-center group-hover:bg-green-600 transition-colors">
          <span class="material-symbols-outlined text-2xl text-green-600 group-hover:text-white transition-colors">school</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm mb-1">í•™êµì¥í„°</h4>
        <p class="text-navy-500 text-xs">S2B ì „ìì¡°ë‹¬</p>
      </a>

      <a href="https://www.smpp.go.kr" target="_blank" rel="noopener" class="group card card-hover p-5 text-center">
        <div class="w-14 h-14 mx-auto mb-4 bg-orange-100 rounded-2xl flex items-center justify-center group-hover:bg-orange-500 transition-colors">
          <span class="material-symbols-outlined text-2xl text-orange-500 group-hover:text-white transition-colors">business</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm mb-1">ì¤‘ì†Œê¸°ì—…ì œí’ˆ</h4>
        <p class="text-navy-500 text-xs">ê³µê³µêµ¬ë§¤ì¢…í•©ì •ë³´</p>
      </a>

      <a href="https://www.kiscon.net" target="_blank" rel="noopener" class="group card card-hover p-5 text-center">
        <div class="w-14 h-14 mx-auto mb-4 bg-amber-100 rounded-2xl flex items-center justify-center group-hover:bg-amber-500 transition-colors">
          <span class="material-symbols-outlined text-2xl text-amber-600 group-hover:text-white transition-colors">construction</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm mb-1">ê±´ì„¤ì‚°ì—…ì •ë³´</h4>
        <p class="text-navy-500 text-xs">KISCON</p>
      </a>

      <a href="https://www.law.go.kr" target="_blank" rel="noopener" class="group card card-hover p-5 text-center">
        <div class="w-14 h-14 mx-auto mb-4 bg-purple-100 rounded-2xl flex items-center justify-center group-hover:bg-purple-600 transition-colors">
          <span class="material-symbols-outlined text-2xl text-purple-600 group-hover:text-white transition-colors">gavel</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm mb-1">êµ­ê°€ë²•ë ¹ì •ë³´</h4>
        <p class="text-navy-500 text-xs">ë²•ë ¹ ê²€ìƒ‰</p>
      </a>

      <a href="https://www.pps.go.kr" target="_blank" rel="noopener" class="group card card-hover p-5 text-center">
        <div class="w-14 h-14 mx-auto mb-4 bg-teal-100 rounded-2xl flex items-center justify-center group-hover:bg-teal-600 transition-colors">
          <span class="material-symbols-outlined text-2xl text-teal-600 group-hover:text-white transition-colors">account_balance</span>
        </div>
        <h4 class="font-bold text-navy-900 text-sm mb-1">ì¡°ë‹¬ì²­</h4>
        <p class="text-navy-500 text-xs">PPS</p>
      </a>
    </div>

    <div class="mt-8 flex flex-wrap justify-center gap-3">
      <a href="https://www.moef.go.kr" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-2 bg-surface-100 hover:bg-surface-200 rounded-full text-sm text-navy-600 transition-colors">
        <span class="material-symbols-outlined text-lg">open_in_new</span>
        ê¸°íšì¬ì •ë¶€
      </a>
      <a href="https://www.mois.go.kr" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-2 bg-surface-100 hover:bg-surface-200 rounded-full text-sm text-navy-600 transition-colors">
        <span class="material-symbols-outlined text-lg">open_in_new</span>
        í–‰ì •ì•ˆì „ë¶€
      </a>
      <a href="https://www.alio.go.kr" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-2 bg-surface-100 hover:bg-surface-200 rounded-full text-sm text-navy-600 transition-colors">
        <span class="material-symbols-outlined text-lg">open_in_new</span>
        ê³µê³µê¸°ê´€ ê²½ì˜ì •ë³´
      </a>
      <a href="https://www.openfiscaldata.go.kr" target="_blank" rel="noopener" class="inline-flex items-center gap-2 px-4 py-2 bg-surface-100 hover:bg-surface-200 rounded-full text-sm text-navy-600 transition-colors">
        <span class="material-symbols-outlined text-lg">open_in_new</span>
        ì—´ë¦°ì¬ì •
      </a>
    </div>
  </div>
</section>

<!-- CTA Section -->
<section class="section bg-surface-50">
  <div class="container-tight text-center">
    <h2 class="text-navy-900 mb-6">
      ì§€ê¸ˆ ë°”ë¡œ ì‹¤ë¬´ì™€ í•¨ê»˜<br>
      ë” ë‚˜ì€ ê³µì§ ìƒí™œì„ ì‹œì‘í•˜ì„¸ìš”
    </h2>
    <p class="text-xl text-navy-600 mb-10 max-w-xl mx-auto">
      íšŒì›ê°€ì… í›„ ëª¨ë“  ë„êµ¬ì™€ ê°€ì´ë“œë¥¼ ë¬´ë£Œë¡œ ì´ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <div class="flex flex-col sm:flex-row gap-4 justify-center">
      <%= link_to new_user_registration_path, class: "btn btn-lg btn-primary hover-glow-navy" do %>
        <span class="material-symbols-outlined">person_add</span>
        ë°”ë¡œ ì‹œì‘í•˜ê¸°
      <% end %>
      <a href="javascript:void(0)" onclick="alert('ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.')" class="btn btn-lg bg-[#FEE500] hover:bg-[#FAE100] text-[#3C1E1E] hover:shadow-lg transition-all">
        <svg class="w-5 h-5" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 3C6.48 3 2 6.48 2 10.8c0 2.76 1.84 5.16 4.6 6.52-.2.72-.76 2.6-.88 3-.14.48.18.48.38.36.16-.08 2.52-1.72 3.56-2.4.76.12 1.56.12 2.34.12 5.52 0 10-3.48 10-7.6S17.52 3 12 3z"/>
        </svg>
        ì¹´ì¹´ì˜¤ë¡œ ì‹œì‘í•˜ê¸°
      </a>
    </div>
  </div>
</section>

<!-- ê¸ˆì•¡ ê³„ì‚°ê¸° ìŠ¤í¬ë¦½íŠ¸ -->
<script>
document.addEventListener('turbo:load', function() {
  const priceInput = document.getElementById('price-input');
  const priceCategory = document.getElementById('price-category');
  const priceResult = document.getElementById('price-result');
  const priceResultContent = document.getElementById('price-result-content');

  if (!priceInput) return;

  // ê¸ˆì•¡ í¬ë§·íŒ…
  priceInput.addEventListener('input', function() {
    let val = this.value.replace(/[^0-9]/g, '');
    if (val) {
      this.value = Number(val).toLocaleString();
      calculateMethod();
    } else {
      this.value = '';
      priceResult.classList.add('hidden');
    }
  });

  // ë¹ ë¥¸ ê¸ˆì•¡ ë²„íŠ¼
  document.querySelectorAll('.price-quick-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      const val = this.dataset.value;
      priceInput.value = Number(val).toLocaleString();
      calculateMethod();
    });
  });

  function calculateMethod() {
    const amount = parseInt(priceInput.value.replace(/,/g, ''));
    const category = priceCategory.value;
    if (!amount || amount <= 0) {
      priceResult.classList.add('hidden');
      return;
    }

    let method, color, icon, desc, checklist;

    if (category === 'construction') {
      if (amount <= 20000000) {
        method = '1ì¸ ê²¬ì  ìˆ˜ì˜ê³„ì•½';
        color = 'forest';
        icon = 'person';
        desc = 'ì¶”ì •ê°€ê²© 2ì²œë§Œì› ì´í•˜ ê³µì‚¬';
        checklist = ['ê²¬ì ì„œ 1ë¶€ ì§•êµ¬', 'ê³„ì•½ì„œ ì‘ì„± (ê°„ì´ê³„ì•½ì„œ ê°€ëŠ¥)', 'ì°©ê³µì‹ ê³ ì„œ', 'ì¤€ê³µê²€ì‚¬ ë° ëŒ€ê°€ ì§€ê¸‰'];
      } else if (amount <= 200000000) {
        method = '2ì¸ ì´ìƒ ê²¬ì  ìˆ˜ì˜ê³„ì•½';
        color = 'point';
        icon = 'group';
        desc = 'ì¶”ì •ê°€ê²© 2ì²œë§Œì› ì´ˆê³¼ ~ 2ì–µì› ì´í•˜ ê³µì‚¬';
        checklist = ['2ì¸ ì´ìƒ ê²¬ì ì„œ ì§•êµ¬', 'ì˜ˆì •ê°€ê²© ì‘ì„±', 'ê³„ì•½ì„œ ì‘ì„±', 'ì°©ê³µì‹ ê³ ì„œ â†’ ì¤€ê³µê²€ì‚¬ â†’ ëŒ€ê°€ ì§€ê¸‰'];
      } else {
        method = 'ê²½ìŸì…ì°°';
        color = 'navy';
        icon = 'groups';
        desc = 'ì¶”ì •ê°€ê²© 2ì–µì› ì´ˆê³¼ ê³µì‚¬';
        checklist = ['ì…ì°°ê³µê³  (7ì¼ ì´ìƒ)', 'ì˜ˆì •ê°€ê²© ì‘ì„± (ë³µìˆ˜ì˜ˆë¹„ê°€ê²©)', 'ì ê²©ì‹¬ì‚¬', 'ê³„ì•½ ì²´ê²° â†’ ì°©ê³µ â†’ ì¤€ê³µê²€ì‚¬'];
      }
    } else {
      // ë¬¼í’ˆ, ìš©ì—­
      if (amount <= 20000000) {
        method = '1ì¸ ê²¬ì  ìˆ˜ì˜ê³„ì•½';
        color = 'forest';
        icon = 'person';
        desc = `ì¶”ì •ê°€ê²© 2ì²œë§Œì› ì´í•˜ ${category === 'goods' ? 'ë¬¼í’ˆ' : 'ìš©ì—­'}`;
        checklist = ['ê²¬ì ì„œ 1ë¶€ ì§•êµ¬', 'ê³„ì•½ì„œ ì‘ì„± (ê°„ì´ê³„ì•½ì„œ ê°€ëŠ¥)', 'ê²€ìˆ˜ ë° ëŒ€ê°€ ì§€ê¸‰'];
      } else if (amount <= 50000000) {
        method = '2ì¸ ì´ìƒ ê²¬ì  ìˆ˜ì˜ê³„ì•½';
        color = 'point';
        icon = 'group';
        desc = `ì¶”ì •ê°€ê²© 2ì²œë§Œì› ì´ˆê³¼ ~ 5ì²œë§Œì› ì´í•˜ ${category === 'goods' ? 'ë¬¼í’ˆ' : 'ìš©ì—­'}`;
        checklist = ['2ì¸ ì´ìƒ ê²¬ì ì„œ ì§•êµ¬', 'ì˜ˆì •ê°€ê²© ì‘ì„±', 'ê³„ì•½ì„œ ì‘ì„±', 'ê²€ìˆ˜ ë° ëŒ€ê°€ ì§€ê¸‰'];
      } else {
        method = 'ê²½ìŸì…ì°°';
        color = 'navy';
        icon = 'groups';
        desc = `ì¶”ì •ê°€ê²© 5ì²œë§Œì› ì´ˆê³¼ ${category === 'goods' ? 'ë¬¼í’ˆ' : 'ìš©ì—­'}`;
        checklist = ['ì…ì°°ê³µê³  (7ì¼ ì´ìƒ)', 'ì˜ˆì •ê°€ê²© ì‘ì„± (ë³µìˆ˜ì˜ˆë¹„ê°€ê²©)', 'ì ê²©ì‹¬ì‚¬ ë˜ëŠ” ìµœì €ê°€ë‚™ì°°', 'ê³„ì•½ ì²´ê²° â†’ ê²€ìˆ˜ â†’ ëŒ€ê°€ ì§€ê¸‰'];
      }
    }

    priceResult.classList.remove('hidden');
    priceResultContent.className = `p-5 rounded-xl border-2 border-${color}-200 bg-${color}-50`;
    priceResultContent.innerHTML = `
      <div class="flex items-center gap-3 mb-3">
        <span class="material-symbols-outlined text-2xl text-${color}-600">${icon}</span>
        <h3 class="text-lg font-bold text-${color}-700">${method}</h3>
      </div>
      <p class="text-navy-600 text-sm mb-4">${desc} (ì¶”ì •ê°€ê²©: ${Number(amount).toLocaleString()}ì›)</p>
      <div class="space-y-2">
        ${checklist.map(item => `
          <div class="flex items-start gap-2">
            <span class="material-symbols-outlined text-${color}-500 text-lg mt-0.5">check_circle</span>
            <span class="text-navy-700 text-sm">${item}</span>
          </div>
        `).join('')}
      </div>
      <div class="mt-4 pt-4 border-t border-${color}-200">
        <a href="${'<%= contract_method_path %>'}" class="inline-flex items-center gap-1 text-${color}-600 hover:text-${color}-700 text-sm font-semibold">
          ìƒì„¸ ë¶„ì„ ë°”ë¡œê°€ê¸° <span class="material-symbols-outlined text-lg">arrow_forward</span>
        </a>
      </div>
    `;
  }

  priceCategory.addEventListener('change', function() {
    if (priceInput.value) calculateMethod();
  });
});
</script>
